# WhatsApp API Vercel - Configurações de Ambiente

# ==============================================
# CONFIGURAÇÕES BÁSICAS
# ==============================================

# Ambiente de execução
NODE_ENV=production

# Chave de API para autenticação
# Gere uma chave segura: openssl rand -hex 32
API_KEY=your-secure-api-key-here

# ==============================================
# CONFIGURAÇÕES DE CORS
# ==============================================

# Origens permitidas (separadas por vírgula)
# Para desenvolvimento local: http://localhost:3000,http://localhost:8080
# Para produção: https://yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ==============================================
# CONFIGURAÇÕES DO WHATSAPP
# ==============================================

# URL do webhook para receber eventos (opcional)
WEBHOOK_URL=https://yourdomain.com/webhook/whatsapp

# Timeout da sessão em milissegundos (5 minutos = 300000)
SESSION_TIMEOUT=300000

# Número máximo de sessões simultâneas
MAX_SESSIONS=10

# Timeout para QR code em milissegundos (60 segundos = 60000)
QR_TIMEOUT=60000

# ==============================================
# CONFIGURAÇÕES DE RATE LIMITING
# ==============================================

# Janela de tempo para rate limiting em milissegundos (1 minuto = 60000)
RATE_LIMIT_WINDOW=60000

# Número máximo de requisições por janela de tempo
RATE_LIMIT_MAX=100

# Rate limit específico para mensagens (por minuto por destinatário)
MESSAGE_RATE_LIMIT=10

# ==============================================
# CONFIGURAÇÕES DE LOGGING
# ==============================================

# Nível de log: trace, debug, info, warn, error, fatal
LOG_LEVEL=info

# Habilitar logs detalhados do Baileys (true/false)
BAILEYS_DEBUG=false

# ==============================================
# CONFIGURAÇÕES DE SEGURANÇA
# ==============================================

# Habilitar validação de origem (true/false)
VALIDATE_ORIGIN=true

# Habilitar autenticação por API key (true/false)
REQUIRE_API_KEY=true

# Timeout para requisições HTTP em milissegundos
HTTP_TIMEOUT=30000

# ==============================================
# CONFIGURAÇÕES OPCIONAIS
# ==============================================

# Nome do projeto (para logs e identificação)
PROJECT_NAME=WhatsApp API Vercel

# Versão da API
API_VERSION=1.0.0

# Timezone
TZ=America/Sao_Paulo

# ==============================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO
# ==============================================

# Porta para desenvolvimento local (apenas para testes locais)
PORT=3000

# Habilitar modo de desenvolvimento (true/false)
DEV_MODE=false

# Habilitar CORS para todas as origens em desenvolvimento (true/false)
DEV_CORS_ALL=false

# ==============================================
# CONFIGURAÇÕES DE INTEGRAÇÃO
# ==============================================

# URL base do Laravel (para comunicação bidirecional)
LARAVEL_BASE_URL=https://yourdomain.com

# Chave de API do Laravel (para autenticação reversa)
LARAVEL_API_KEY=your-laravel-api-key

# ==============================================
# CONFIGURAÇÕES DE ARMAZENAMENTO
# ==============================================

# Diretório para armazenar sessões (Vercel usa /tmp)
SESSION_DIR=/tmp/whatsapp-sessions

# Tempo de vida do cache em milissegundos (1 hora = 3600000)
CACHE_TTL=3600000

# ==============================================
# CONFIGURAÇÕES DE MONITORAMENTO
# ==============================================

# URL para health check
HEALTH_CHECK_URL=/api/health

# Intervalo de health check em milissegundos (30 segundos = 30000)
HEALTH_CHECK_INTERVAL=30000

# ==============================================
# CONFIGURAÇÕES DE WEBHOOK
# ==============================================

# Eventos para enviar via webhook (separados por vírgula)
# Opções: message, connection, qr, error, all
WEBHOOK_EVENTS=message,connection,qr

# Timeout para webhook em milissegundos
WEBHOOK_TIMEOUT=5000

# Número de tentativas para webhook
WEBHOOK_RETRIES=3

# ==============================================
# INSTRUÇÕES DE USO
# ==============================================

# 1. Copie este arquivo para .env
# 2. Substitua os valores de exemplo pelos valores reais
# 3. Configure as variáveis de ambiente no Vercel:
#    - Acesse o dashboard do Vercel
#    - Vá em Settings > Environment Variables
#    - Adicione cada variável individualmente
# 4. Para desenvolvimento local, use: vercel dev
# 5. Para deploy: vercel --prod

# ==============================================
# VARIÁVEIS OBRIGATÓRIAS PARA PRODUÇÃO
# ==============================================

# Estas variáveis DEVEM ser configuradas:
# - API_KEY
# - ALLOWED_ORIGINS
# - LARAVEL_BASE_URL (se usando integração com Laravel)

# ==============================================
# SEGURANÇA
# ==============================================

# NUNCA commite este arquivo com valores reais!
# Use apenas .env.example como template
# Configure as variáveis diretamente no Vercel Dashboard